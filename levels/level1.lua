local Prop = require("Prop")

return {
    id = "level1",
    background = "library_bg",  -- Key from sprites.environment (e.g., dungeon_bg, garden_bg)
    map = {
        [[#X#######################################################################################]],
        [[#############################################                                           #]],
        [[#############################################                                           #]],
        [[#############################################                                           #]],
        [[#############################################                                           #]],
        [[#############################################                                           #]],
        [[#############################################                s                 bB       #]],
        [[#############################################             T ###T T T #H#T T T ###########]],
        [[#############################################          T    ###       H       ###########]],
        [[#############################################  c C  T       ###       H       ###########]],
        [[#############################################  ####         ###^^^^^^^H^^^^^^^###########]],
        [[#############################################  ##########################################]],
        [[#############################################  ##########################################]],
        [[#                ##                  # 9      0##########################################]],
        [[#                ##                  #H#   ##############################################]],
        [[#                ##                  #H#   ##############################################]],
        [[#                ##                  #H#   ##############################################]],
        [[#                ##                7 #H#   ##############################################]],
        [[#                ##     W  6  W##### #H#   ##############################################]],
        [[#                ## 5 ######  #///// #H#   ##############################################]],
        [[#                ##---######--#///// #H#   ##############################################]],
        [[#                ##   ######  #///// 8H    ##############################################]],
        [[#                ##   ######  #///// ####################################################]],
        [[#                ##---######--#///// ####################################################]],
        [[#              3 ##   ######  #///// ####################################################]],
        [[#             #--##   ######  #///// ####################################################]],
        [[#            ##  ##---######--#///// ####################################################]],
        [[# S         ###       ######         ####################################################]],
        [[# 1      2 ####     4 ######         ####################################################]],
        [[#########################################################################################]],
    },
    symbols = {
        S = { type = "spawn" },
        B = {
            type = "button",
            on_press = function()
                Prop.group_action("entrance_spikes", "retracting")
                Prop.group_action("spike_buttons", "pressed")
            end,
            group = "spike_buttons"
        },
        b = { type = "sign", text = "Hammer\n{hammer}" },
        R = { type = "enemy", key = "ratto" },
        W = { type = "enemy", key = "worm" },
        G = { type = "enemy", key = "spike_slug" },
        C = { type = "campfire", name = "Tutorial Campfire" },
        c = { type = "sign", text = "Campfires restore health\nand save progress" },
        s = { type = "sign", text = "[color=#FF0000]DANGER![/color]\nSpikes" },
        ["^"] = { type = "spike_trap", mode = "extended", group = "entrance_spikes" },
        ["1"] = { type = "sign", text = "Move\n{keyboard:move_left}/{keyboard:move_right} or {gamepad:move_left}/{gamepad:move_right}" },
        ["2"] = { type = "sign", text = "Jump\n{jump}" },
        ["3"] = { type = "sign", text = "Drop\n{move_down} + {jump}", offset = { x = 0.5 } },
        ["4"] = { type = "sign", text = "Double Jump\n{jump} + {jump}" },
        ["5"] = { type = "sign", text = "Attack\n{attack}" },
        ["6"] = { type = "sign", text = "Throw: {throw}" },
        ["7"] = { type = "sign", text = "Wall Slide\nHold {move_right}" },
        ["8"] = { type = "sign", text = "Climb\n{move_up}" },
        ["9"] = { type = "sign", text = "Dash\n{dash}" },
        ["0"] = { type = "sign", text = "Wall Jump\n{move_right} + {jump}", offset = { x = -0.5 } },
        T = { type = "trap_door" },
    }
} 